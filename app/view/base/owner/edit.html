<section class="content">
    <form name="form">
    <div class="box box-default" sl-load sl-view>
        <div class="box-header">
            <h3 class="box-title" ng-bind="page.title"></h3>
            <sl-breadcrumb></sl-breadcrumb>
        </div>
        <!-- /.box-header -->
        <div class="box-body" sl-tab>
            <div title="基本信息">
                <div class="box-data margin-bottom addon-right padding">
                    <div class="row">
                        <div class="col-sm-4">
                            <div class="input-group require">
                                <span class="input-group-addon">中文名称</span>
                                <input type="text" class="form-control col-xs-9" ng-model="data.name" maxlength="100" ng-maxlength="100" placeholder="100个字符以内" required>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="input-group">
                                <span class="input-group-addon">英文名称</span>
                                <input type="text" name="name" class="form-control col-xs-9" ng-model="data.nameEn" maxlength="100" ng-maxlength="100" placeholder="100个字符以内">
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="input-group require">
                                <span class="input-group-addon">商家编码</span>
                                <input type="text" name="name" class="form-control col-xs-9" ng-model="data.code" ng-disabled="page.edit" maxlength="20" ng-maxlength="20" placeholder="20个字符以内" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4">
                            <div class="input-group require">
                                <span class="input-group-addon">默认仓库</span>
                                <select class="form-control" ng-model="data.warehouseId" ng-options="v.id as v.label for v in page.deps.warehouseId" required></select>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="input-group">
                                <span class="input-group-addon">业务管控状态</span>
                                <select class="form-control" ng-model="data.bizControl" ng-options="v.id as v.label for v in page.deps.bizControl"></select>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="input-group">
                                <span class="input-group-addon">批次模板</span>
                                <select class="form-control" ng-model="data.batchId" ng-options="v.id as v.label for v in page.deps.batchId"></select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-8">
                            <div class="input-group">
                                <span class="input-group-addon">客户地址</span>
                                <div sl-area="page.deps.area" sl-area-model="data"></div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="input-group">
                                <span class="input-group-addon">详细地址</span>
                                <input type="text" class="form-control col-xs-9" ng-model="data.cAddress" maxlength="200" ng-maxlength="200" placeholder="200个字符以内">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="box-data margin-bottom addon-right padding split">
                    <div class="row">
                        <div class="col-sm-4">
                            <div class="input-group">
                                <span class="input-group-addon">联系人</span>
                                <input type="text" class="form-control col-xs-9" ng-model="data.cContact" maxlength="20" ng-maxlength="20" placeholder="20个字符以内">
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="input-group">
                                <span class="input-group-addon">联系电话</span>
                                <input type="text" class="form-control col-xs-9" ng-model="data.cMobile" maxlength="20" ng-maxlength="20" placeholder="20个字符以内">
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="input-group">
                                <span class="input-group-addon">固定电话</span>
                                <input type="text" class="form-control col-xs-9" ng-model="data.cTel" maxlength="20" ng-maxlength="20" placeholder="20个字符以内">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4">
                            <div class="input-group">
                                <span class="input-group-addon">传真</span>
                                <input type="text" class="form-control col-xs-9" ng-model="data.cFax" maxlength="20" ng-maxlength="20" placeholder="20个字符以内">
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="input-group">
                                <span class="input-group-addon">邮箱地址</span>
                                <input type="text" class="form-control col-xs-9" ng-model="data.cEmail" maxlength="50" ng-maxlength="50" placeholder="50个字符以内">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-8">
                            <div class="input-group">
                                <span class="input-group-addon">备注</span>
                                <textarea class="form-control col-xs-9" ng-model="data.remark" maxlength="500" ng-maxlength="500" placeholder="500个字符以内"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-8">
                            <div class="input-group">
                                <span class="input-group-addon">是否启用</span>
                                <div sl-radio="data" sl-radio-model="status" class="sl-combo col-xs-12"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div title="店铺管理">
                    <div class="box-operation">
                        <div class="operation-wrap">
                            <a ng-click="shop.create()" class="btn btn-normal"><i class="fa fa-plus"></i>新增</a>
                        </div>
                    </div>
                    <table class="table table-bordered table-striped through">
                        <thead>
                            <tr>
                                <th>序号</th>
                                <th>店铺名称</th>
                                <th>店铺编码</th>
                                <th>所属平台</th>
                                <th>联系人</th>
                                <th>联系电话</th>
                                <th>地址</th>
                                <th>状态</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="row in data.shops track by $index">
                                <td ng-bind="row.id"></td>
                                <td ng-bind="row.name"></td>
                                <td ng-bind="row.code"></td>
                                <td ng-bind="row.platformCode"></td>
                                <td ng-bind="row.cContact"></td>
                                <td ng-bind="row.cMobile"></td>
                                <td ng-bind="row.cAddress"></td>
                                <td ng-bind="row.status | toggle"></td>
                                <td>
                                    <a ng-click="shop.view(row)">查看</a>
                                    <a ng-click="shop.edit(row)">编辑</a>
                                    <a ng-click="shop.toggle(row)" sl-toggle="row['status']" ></a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
        </div>
        <div class="box-footer">
            <button class="btn btn-normal" ng-disabled="form.$invalid" ng-click="save()">保存</button>
            <a class="btn btn-default" ng-back>返回</a>
        </div>
    </div>
    </form>
</section>

<!-- 新增/编辑 商家 -->
<script type="text/ng-template" id="shop/edit.html">
    <div class="modal fade in" style="display:block;">
        <div class="modal-dialog">
            <div class="modal-content overflow-modal box box-default" sl-view >
                <div class="modal-header">
                    <button type="button" class="close" ng-click="close(false)"><span aria-hidden="true">×</span></button>
                    <h4 class="modal-title" ng-bind="page.title"></h4>
                </div>
                <form name="form">
                    <div class="modal-body" >
                        <div class="box-data addon-right padding">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="input-group require">
                                        <span class="input-group-addon">店铺编码</span>
                                        <input type="text" class="form-control col-xs-9" ng-disabled="page.edit" ng-model="data.code" maxlength="50" ng-maxlength="50" placeholder="50个字符以内" required>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="input-group require">
                                        <span class="input-group-addon">店铺名称</span>
                                        <input type="text" class="form-control col-xs-9" ng-model="data.name" maxlength="100" ng-maxlength="100" placeholder="100个字符以内" required>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="input-group">
                                        <span class="input-group-addon">上级店铺</span>
                                        <select class="form-control" ng-model="data.pId" ng-options="v.id as v.label for v in page.deps.pId | filter:{'id':'!'+data.id}"></select>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="input-group require">
                                        <span class="input-group-addon">所属平台</span>
                                        <!-- <select class="form-control" ng-model="data.platformCode" required ng-options="v.id as v.label for v in page.deps.platformCode"></select> -->
                                        <input type="text" class="form-control col-xs-9" ng-model="data.platformCode" placeholder="" ng-maxlength="50" required>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="input-group">
                                        <span class="input-group-addon">卖家账号</span>
                                        <input type="text" class="form-control col-xs-9" ng-model="data.sellerAccount" maxlength="50" ng-maxlength="50" placeholder="50个字符以内">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="input-group">
                                        <span class="input-group-addon">详细地址</span>
                                        <input type="text" class="form-control col-xs-9" ng-model="data.cAddress" maxlength="100" ng-maxlength="100" placeholder="100个字符以内">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="input-group">
                                        <span class="input-group-addon">联系人</span>
                                        <input type="text" class="form-control col-xs-9" ng-model="data.cContact" maxlength="20" ng-maxlength="20" placeholder="20个字符以内">
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="input-group">
                                        <span class="input-group-addon">联系电话</span>
                                        <input type="text" class="form-control col-xs-9" ng-model="data.cMobile" maxlength="20" ng-maxlength="20" placeholder="20个字符以内">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="input-group">
                                        <span class="input-group-addon">邮箱地址</span>
                                        <input type="text" class="form-control col-xs-9" ng-model="data.cEmail" maxlength="50" ng-maxlength="50" placeholder="50个字符以内">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-8">
                                    <div class="input-group">
                                        <span class="input-group-addon">是否启用</span>
                                        <div sl-radio="data" sl-radio-model="status" class="sl-combo col-xs-12"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer text-center">
                        <button class="btn btn-primary pull-center" ng-click="close(true)" ng-disabled="form.$invalid">确定</button>
                        <a class="btn btn-default pull-center" ng-click="close(false)">取消</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</script>